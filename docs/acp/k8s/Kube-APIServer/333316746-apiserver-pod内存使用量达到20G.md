---kind:   - Troubleshootingproducts:    - Alauda Container Platform   - Alauda DevOps   - Alauda AI   - Alauda Application Services   - Alauda Service Mesh   - Alauda Developer PortalProductsVersion:   - 4.1.0,4.2.x---<!-- A type of document that involves encountering a fault, diag...it, performing root cause analysis, and providing solutions. --># apiserver pod内存使用量达到20Gapiserver pod内存使用量达到20G cert-manager-webhook CPU使用率过高 etcd中存在8W+ certificaterequests资源## Cause- 道客云多集群管理纳管后触发资源频繁同步- certificaterequests资源持续增长导致etcd数据膨胀## Resolution- 解除道客云多集群管理- 执行etcd数据清理: etcdctl --endpoints=$ENDPOINTS --cacert=$CACERT --cert=$CERT --key=$KEY del /registry/cert-manager.io/certificaterequests/cpaas-system/ --prefix- 执行etcd压缩: etcdctl --endpoints=$ENDPOINTS --cacert=$CACERT --cert=$CERT --key=$KEY compact $rev- 执行etcd碎片整理: /usr/bin/etcdctl --endpoints=$ENDPOINTS --cacert=$CACERT --cert=$CERT --key=$KEY defrag- 重启kube-apiserver pod## [workaround]- 临时关闭OAM应用: kubectl edit component <组件名> 调整replicas: 0- 临时关闭cert-manager服务## [Related Information]**Screenshots**![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip6_1755654657866_ooke8.png)![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip5_1755654650420_42t4d.png)![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip4_1755654581932_57f1o.png)![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip0_1755656945072_dv0io.png)![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip1_1755656976515_praik.png)![](assets/ji-chu-jia-gou-apiserver-podnei-cun-shi-yong-liang-da-dao-20g-115624/mceclip0_1755763021349_elk2k.png)- Environment: v3.14.2- cert-manager-webhook- OAM应用(gra/test)- etcd- certificaterequests- /registry/cert-manager.io/certificaterequests- /etc/kubernetes/pki/etcd/- apiserver_request_total{resource="services"}- Component: Kube-APIServer- Page ID: 333316746- Original Title: 基础架构-apiserver pod内存使用量达到20G-115624