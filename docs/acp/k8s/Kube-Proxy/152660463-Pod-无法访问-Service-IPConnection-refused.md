---kind:   - Troubleshootingproducts:    - Alauda Container Platform   - Alauda DevOps   - Alauda AI   - Alauda Application Services   - Alauda Service Mesh   - Alauda Developer PortalProductsVersion:   - 4.1.0,4.2.x---<!-- A type of document that involves encountering a fault, diag...it, performing root cause analysis, and providing solutions. --># Pod 无法访问 Service IP：Connection refused通过 Service IP 访问报错 connection refused IPVS real server 的 weight 为 0（正常应为 1） tcpdump 抓包无流量，iptables TRACE 显示 IPVS 报错 'no destination available'## Cause- kube-proxy 在 IPVS 模式下存在 bug（#108319），节点 NotReady 后恢复时未正确更新 real server 权重- Kubernetes v1.25.11 版本未包含修复该问题的补丁（需 v1.26.0+）## Resolution- 删除并重建 service endpoint 对应的 pod- 执行命令检查 IPVS 权重恢复：ipvsadm -ln | grep -A1 -w <service_ip>## [workaround]## [Related Information]**Screenshots**![](assets/pod-wu-fa-fang-wen-service-ip-connection-refused/image2023-7-20_18-9-13.png)- Environment: Kubernetes v1.25.11, kube-proxy ipvs 模式- kube-proxy- ipvs- 10.4.169.68:443- 10.3.0.197:8443- KUBE-SERVICES- KUBE-MARK-MASQ- endpointslice- Component: Kube-Proxy- Page ID: 152660463- Original Title: Pod 无法访问 Service IP：Connection refused