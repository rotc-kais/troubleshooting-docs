---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 分布式存储（ceph）

OSD 状态异常（如 down、in） PG 状态卡在 incomplete 客户端 IO 出现延迟或失败

## Cause
- OSD 磁盘空间不足（如 near full 状态）
- CRUSH Map 配置错误，导致 PG 无法正确分配
- 网络分区导致 OSD 间通信失败

## Resolution
- 检查并清理 OSD 磁盘空间：ceph osd df | grep -i full
- 验证并调整 CRUSH Map 配置：ceph osd crush dump
- 检查网络连通性：ceph osd ping 或 traceroute 相关节点

## [workaround]
- 临时移除问题 OSD：ceph osd out <osd.id>
- 调整 PG 数量：ceph osd set noout

## [Related Information]
- Environment: Ceph 版本 Nautilus 及以上，部署于 Kubernetes 集群或裸机环境
- OSD
- CRUSH Map
- PG
- Ceph Monitor
- Component: Ceph
- Page ID: 211780353
- Original Title: 分布式存储（ceph）
