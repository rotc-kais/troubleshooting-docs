---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# rook

mgr组件频繁重置链接 内存占用固定增加约1G

## Cause
- hostNetwork模式下PID冲突导致链接重置
- mgr dashboard接口频繁生成的token在blacklist中滞留

## Resolution
- kubectl -n rook-ceph patch deployment rook-ceph-mgr-a --type merge --patch '{"spec":{"template":{"spec":{"hostPID":true}}}}'

## [workaround]

## [Related Information]
- Environment: rook-ceph 3.4
- rook-ceph-mgr-a
- hostNetwork
- hostPID
- mgr dashboard restful api
- token blacklist
- Component: Ceph
- Page ID: 112060337
- Original Title: rook-ceph mgr 内存泄漏临时解决方案
