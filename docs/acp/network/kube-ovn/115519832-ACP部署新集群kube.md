---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# ACP部署新集群，kube

CNI安装步骤报错 安装耗时约15分钟 pinger Pod诊断执行时间较长（22节点需3分钟）

## Cause
- kubectl ko diagnose all命令中pinger Pod的/kube-ovn/kube-ovn-pinger --mode=job诊断耗时

## Resolution
- 优化安装过程中CNI组件的诊断逻辑

## [workaround]

## [Related Information]
**Screenshots**
![](assets/acpbu-shu-xin-ji-qun-kube-ovn-cnian-zhuang-bu-zou-shi-jian-jiao-chang/image2022-5-19_10-21-26.png)
![](assets/acpbu-shu-xin-ji-qun-kube-ovn-cnian-zhuang-bu-zou-shi-jian-jiao-chang/image2022-5-19_10-25-30.png)
![](assets/acpbu-shu-xin-ji-qun-kube-ovn-cnian-zhuang-bu-zou-shi-jian-jiao-chang/image2022-5-19_10-27-13.png)
- Environment: ARM架构 192.168.19.23业务集群（性能测试环境）
- kube-ovn
- pinger Pod
- cni-kube-ovn ConfigMap
- tke-platform-controller
- kubectl logs -n cpaas-system
- kubectl ko diagnose all
- Component: kube-ovn
- Page ID: 115519832
- Original Title: ACP部署新集群，kube-ovn cni安装步骤时间较长
