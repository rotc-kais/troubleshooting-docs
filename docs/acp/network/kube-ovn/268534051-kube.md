---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# kube

kube-ovn-cni 一直 crash，日志提示 ovn0 ip 未分配 kube-ovn-controller 日志出现 libovsdb cache inconsistent 错误 ovn sb 日志显示 kube-ovn-controller 连接被超时自动断开

## Cause
- libovsdb 在遇到 cache inconsistent 错误时未正确触发自动重连机制
- kube-ovn-controller 到 ovn sb 数据库的 TCP 连接被服务端超时断开

## Resolution
- 手动删除故障的 kube-ovn-controller pod

## [workaround]

## [Related Information]
- 6642
- 6641
- /var/log/ovn/ovsdb-server-sb.log
- kube-ovn-controller
- ovsdb-server
- libovsdb
- kube-ovn-cni
- OVN_Southbound
- Component: kube-Ovn
- Page ID: 268534051
- Original Title: kube-ovn-controller 的 libovsdb 异常情况下没有自动重连 ovn 数据库
