---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 国产海光CPU虚拟机平台性能异常，导致进程占用CPU高，OVS 流表缺失

业务 Pod 无法正常启动 业务 Pod 无法访问集群外数据库 主网关节点 ovs-ovn CPU 100%

## Cause
- 国产海光 CPU 平台虚拟机性能异常导致进程高 CPU 占用
- ovn-controller 因 CPU 资源不足无法正常生成 OVS 流表

## Resolution
- 执行虚拟机热迁移临时恢复
- 手动重启 ovn-controller 并开启 dbg 日志

## [workaround]
- 切换主网关节点到其他节点
- 删除故障节点上的业务 Pod 触发重建调度

## [Related Information]
**Screenshots**
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-34-46.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-28-30.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-29-16.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-30-45.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-37-26.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-38-5.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-32-23.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-39-0.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-44-38.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-46-35.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-49-12.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-49-48.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-49-56.png)
![](assets/guo-chan-hai-guang-cpuxu-ni-ji-ping-tai-xing-neng-yi-chang-dao-zhi-jin-cheng-zha/image-2025-1-10_11-50-37.png)
- Environment: 国产海光 CPU 平台虚拟机 | 内核 4.19.90-23.51.v2101.ky10.x86_64 | Kube-OVN v1.9
- ovs-ovn
- kubelet
- containerd
- ovn-controller
- table 8 流表
- ARP 协议
- Component: kube-Ovn
- Page ID: 257263084
- Original Title: 国产海光CPU虚拟机平台性能异常，导致进程占用CPU高，OVS 流表缺失
