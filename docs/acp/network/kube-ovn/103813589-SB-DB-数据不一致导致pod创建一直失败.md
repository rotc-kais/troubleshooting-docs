---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# SB DB 数据不一致，导致pod创建一直失败

Pod处于ContainerCreating状态无法Running kube-ovn-controller多次重启 ovn-nbctl lr-list命令执行失败

## Cause
- OVN Southbound数据库数据不一致导致同步异常

## Resolution
- 备份NB DB后删除所有节点/etc/origin/ovn/ovnsb_db.db
- 使用ovsdb-tool cluster-to-standalone转换数据库格式
- 重启ovn-central部署：kubectl scale deployment -n kube-system ovn-central --replicas=0 && kubectl scale deployment -n kube-system ovn-central --replicas=3

## [workaround]

## [Related Information]
**Screenshots**
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-17-59.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-18-56.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-19-27.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-25-25.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-26-43.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-27-20.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-28-15.png)
![](assets/sb-db-shu-ju-bu-yi-zhi-dao-zhi-podchuang-jian-yi-zhi-shi-bai/image2022-1-13_17-33-56.png)
- Environment: Kube-OVN v1.8.2(Edge)/v1.7.1(IDC)
- kube-ovn-controller
- OVSDB
- ovn-nbctl
- ovn-central deployment
- /etc/origin/ovn
- /var/run/ovn/ovnsb_db.ctl
- 10660端口
- Component: kube-ovn
- Page ID: 103813589
- Original Title: SB DB 数据不一致，导致pod创建一直失败
