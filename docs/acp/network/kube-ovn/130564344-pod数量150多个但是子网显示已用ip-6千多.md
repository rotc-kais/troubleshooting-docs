---kind:   - Troubleshootingproducts:    - Alauda Container Platform   - Alauda DevOps   - Alauda AI   - Alauda Application Services   - Alauda Service Mesh   - Alauda Developer PortalProductsVersion:   - 4.1.0,4.2.x---<!-- A type of document that involves encountering a fault, diag...it, performing root cause analysis, and providing solutions. --># pod数量150多个，但是子网显示已用ip 6千多pod数量150多个，子网显示已用ip 6千多 ips记录确实存在6k多条 包含hostnetwork pod## Cause- CNI插件未正确释放已删除pod的IP地址- controller的IP回收机制存在缺陷## Resolution- 编写自动清理ips的脚本- 提交PR修复controller的IP回收逻辑## [workaround]## [Related Information]**Screenshots**![](https://jira.alauda.cn/secure/attachment/128361/128361_image-2022-11-17-14-34-06-435.png)![](https://jira.alauda.cn/secure/attachment/128360/128360_image-2022-11-17-14-34-10-588.png)![](https://jira.alauda.cn/secure/attachment/128359/128359_image-2022-11-17-14-34-14-730.png)![](https://jira.alauda.cn/secure/attachment/128363/128363_image-2022-11-17-15-07-13-424.png)![](https://jira.alauda.cn/secure/attachment/128365/128365_image-2022-11-17-15-11-33-236.png)![](https://jira.alauda.cn/secure/attachment/128366/128366_image-2022-11-17-15-12-06-973.png)- Environment: CNI 1.9.14- CNI 1.9.14- controller日志661行- lsp(逻辑交换机端口)- 审计日志- Component: Kubernetes- Page ID: 130564344- Original Title: pod数量150多个，但是子网显示已用ip 6千多