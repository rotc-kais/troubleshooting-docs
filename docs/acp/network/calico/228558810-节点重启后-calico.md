---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 节点重启后 calico

calico-node not ready iptables报错Operation not permitted getcap `which calico-node` 结果为空

## Cause
- 文件系统缺失calico-node的linux capability
- 安全加固导致docker目录修改

## Resolution
- systemctl disable kubelet并重启节点
- docker rmi删除calico-node镜像及关联容器
- systemctl enable kubelet并再次重启节点

## [workaround]

## [Related Information]
- Environment: docker环境，Calico CNI
- calico-node
- /var/lib/docker
- iptables
- kubelet
- getcap
- getfattr
- Component: Calico
- Page ID: 228558810
- Original Title: 节点重启后 calico-node not ready
