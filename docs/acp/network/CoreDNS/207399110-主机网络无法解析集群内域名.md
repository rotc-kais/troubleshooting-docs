---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 主机网络无法解析集群内域名

主机网络的 Pod 无法解析集群内域名 通过 CoreDNS Service IP 解析域名超时失败 节点 ovn0 抓包显示目的 IP 与当前 CoreDNS Pod IP 不一致

## Cause
- kube-proxy 未更新 IPVS 规则
- 节点迁移后未重建 kube-proxy 导致配置未同步

## Resolution
- 删除并重建故障节点上的 kube-proxy 以重新生成 IPVS 规则

## [workaround]

## [Related Information]
**Screenshots**
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-49-4.png)
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-49-42.png)
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-50-48.png)
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-50-29.png)
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-51-53.png)
![](assets/zhu-ji-wang-luo-wu-fa-jie-xi-ji-qun-nei-yu-ming/image-2024-5-8_13-54-22.png)
- Environment: Kubernetes v1.25.6 | CNI: Kube-OVN
- kube-proxy
- CoreDNS
- IPVS 规则
- ovn0 网卡
- API Server 地址
- Component: CoreDNS
- Page ID: 207399110
- Original Title: 主机网络无法解析集群内域名
