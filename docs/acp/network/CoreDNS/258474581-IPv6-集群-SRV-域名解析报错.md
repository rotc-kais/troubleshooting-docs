---kind:   - Troubleshootingproducts:    - Alauda Container Platform   - Alauda DevOps   - Alauda AI   - Alauda Application Services   - Alauda Service Mesh   - Alauda Developer PortalProductsVersion:   - 4.1.0,4.2.x---<!-- A type of document that involves encountering a fault, diag...it, performing root cause analysis, and providing solutions. --># IPv6 集群 SRV 域名解析报错应用域名解析报错 DNS response contained records which contain invalid names 抓包显示发起 SRV 类型请求 DNS 响应中存在非法域名（包含无效字符或格式）## Cause- CoreDNS 根据 endpoint IP 自动生成域名时，IPv6 地址转换的带连字符名称违反 RFC 1035 命名规范- 默认 endpoint 命名策略使用 IP 地址转换格式(如 fd00:10:16:: 转换为 fd00-10-16--)## Resolution- 在 CoreDNS 的 kubernetes 插件配置中添加 endpoint_pod_names 参数- 修改后的 CoreDNS 配置示例：
kubernetes cluster.local in-addr.arpa ip6.arpa {
    pods insecure
    endpoint_pod_names
    fallthrough in-addr.arpa ip6.arpa
    ttl 30
}## [workaround]## [Related Information]**Screenshots**![](assets/ipv6-ji-qun-srv-yu-ming-jie-xi-bao-cuo/image-2025-1-13_13-53-2.png)- Environment: IPv6 集群- SRV 记录- CoreDNS- kubernetes 插件- endpoint_pod_names 配置- RFC 1035 命名规范- Component: CoreDNS- Page ID: 258474581- Original Title: IPv6 集群 SRV 域名解析报错