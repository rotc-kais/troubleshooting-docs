---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# CCE 集群中无法解析本命名空间内的 <SVC>.<NS> 域名

Pod 解析 <SVC>.<NS> 格式域名时出现 host not found 报错 nslookup 直接查询 <SVC>.<NS> 返回 NXDOMAIN 使用 Service 短名称解析时自动补全集群域名成功

## Cause
- DNS 查询请求未携带集群默认搜索域
- CoreDNS 未配置自动补全 <SVC>.<NS> 格式的短域名

## Resolution
- 使用 Service 全称（<SVC>.<NS>.svc.cluster.local）进行解析
- 直接使用 Service 短名称依赖 search 域自动补全

## [workaround]

## [Related Information]
- 169.254.20.10:53
- /etc/resolv.conf
- search 域配置
- single-request-reopen
- timeout:2
- Component: CoreDNS
- Page ID: 163076356
- Original Title: CCE 集群中无法解析本命名空间内的 <SVC>.<NS> 域名
