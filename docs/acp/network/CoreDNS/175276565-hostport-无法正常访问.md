---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# hostport 无法正常访问

配置了 hostport 的 3 副本 nginx 只有一个节点能通过 hostport 访问 异常节点抓包显示没有 pod tcp 第二次握手的回包

## Cause
- pod 所在子网配置了集中式网关且当前网关节点是访问正常的节点

## Resolution
- 将 nginx 配置为使用主机网络
- 修改 nginx 的 DNS 策略为 ClusterFirstWithHostNet

## [workaround]

## [Related Information]
- hostport
- kube-ovn
- 集中式网关
- ClusterFirstWithHostNet
- Component: CoreDNS
- Page ID: 175276565
- Original Title: hostport 无法正常访问
