---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 集群增加节点

products: * Alauda Container Platform

## Cause
- 未完成必要配置（如 /etc/resolv.conf、core 文件、/etc/hosts、sshd 配置）
- 新节点网卡名称与历史节点不一致

## Resolution
- 安装依赖后重启服务器，配置 /etc/resolv.conf、core 文件、/etc/hosts 和 sshd
- 在 global 集群的 tke-platform-api 添加参数 SKIP_CHECKERS=VALIDATE_NETWORK_DEVICE
- 在业务集群修改 calico ds 的 IP_AUTODETECTION_METHOD=interface=^(ens160|bond0)$
- 建议后续创建新机器时保持网卡名一致

## [workaround]

## [Related Information]
- Environment: 3.12.1
- /etc/resolv.conf
- /etc/hosts
- sshd
- tke-platform-api
- SKIP_CHECKERS
- VALIDATE_NETWORK_DEVICE
- calico ds
- IP_AUTODETECTION_METHOD
- ens160
- bond0
- Component: CoreDNS
- Page ID: 198257198
- Original Title: 基础架构-集群增加节点-75399
