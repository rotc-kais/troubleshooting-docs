---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 【咨询】master 节点全部关机后，集群内仍能正常解析域名

master 节点全部关机后，集群内仍能正常解析域名

## Cause
- coredns kubernetes 插件通过 client-go cache 缓存 k8s 资源（如 svc）
- API Server 不可达时 coredns 无法更新缓存但仍使用旧数据
- DNS 响应中的 TTL 值允许客户端在有效期内缓存解析结果
- CoreDNS 内部缓存机制在 TTL 未过期时直接返回缓存记录

## Resolution

## [workaround]

## [Related Information]
- coredns
- kubernetes 插件
- cache 插件
- forward 插件
- client-go cache
- TTL 参数
- CoreDNS ConfigMap
- service 资源
- Component: CoreDNS
- Page ID: 258474610
- Original Title: 【咨询】master 节点全部关机后，集群内仍能正常解析域名
