---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 3.16之前集群网络策略低版本已知问题

开启集群网络策略后，同项目Pod内curl ALB+端口不通，但容器IP正常；非应用节点上curl ALB+端口和容器IP均不通；应用节点上curl容器IP正常 开启集群网络策略后，项目下创建数据服务中间件无法启动，因与operator命名空间不通

## Cause
- 集群网络策略错误限制了节点网络，未仅限制项目策略
- 集群网络策略未正确放通operator命名空间流量

## Resolution
- 升级到3.10.4/3.12.4/3.14.2/3.16.0版本
- 升级到3.10.4/3.12.4/3.14.3/3.16.0版本

## [workaround]
- kubectl edit namespaces operators
metadata:
  labels:
    cpaas.io/system: "true"
    namespace-type: system

## [Related Information]
- Environment: 3.16之前版本
- ['ALB', '容器IP', '集群网络策略']
- ['operator命名空间', 'namespace-type标签', '集群网络策略']
- Component: 集群网络策略
- Page ID: 233866238
- Original Title: 3.16之前集群网络策略低版本已知问题
