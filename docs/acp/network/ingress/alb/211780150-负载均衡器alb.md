---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 负载均衡器（alb）

HTTP 500 状态码（后端服务问题） HTTP 404 状态码（ALB 未匹配规则）

## Cause
- 后端服务返回 500 错误
- ALB 规则未同步或配置错误导致 404

## Resolution
- 检查后端服务 Pod 状态及日志（kubectl get pod -A -wode | grep <podip>）
- 检查 policy.new 文件是否存在匹配规则
- 验证 Ingress 同步状态（参考 alb ingress 同步规则文档）

## [workaround]

## [Related Information]
- Environment: global集群 cpaas-system 命名空间（global-alb2）或业务集群 cpaas-system 命名空间，INGRESS_HTTP_PORT/INGRESS_HTTPS_PORT 端口配置
- ingress
- rule
- policy.new
- svc 的 ep
- /etc/alb2/nginx/policy.new
- /usr/local/openresty/nginx/conf/policy.new
- kubernetes.io/ingress.class
- Component: ALB
- Page ID: 211780150
- Original Title: 负载均衡器（alb）
