---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 使用ipv6，v4双栈，alb转发进来之后某人到v4栈ip，这个有办法到v6嘛？

ALB双栈转发后流量仍指向IPv4地址

## Cause
- SVC的Endpoint默认使用IPv4地址
- 双栈Endpoint场景下ALB会随机使用所有地址

## Resolution
- 1. 将svc的ipfamilies改为IPv6测试应用获取地址
- 2. 修改ipfamilies为IPv4+IPv6并设置policy=RequireDualStack
- 3. 最终采用单栈Endpoint方案

## [workaround]
- 使用单栈Endpoint配置

## [Related Information]
- Environment: 3
- ipfamilies
- RequireDualStack
- 双栈Endpoint
- Component: alb
- Page ID: 325910979
- Original Title: 容器平台-网络-ALB-使用ipv6，v4双栈，alb转发进来之后某人到v4栈ip，这个有办法到v6嘛？-113296
