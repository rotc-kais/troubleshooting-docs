---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 日志

容器日志不显示 提示 failed to get parse function:unsupported log format:"\n" /var/lib/docker/containers/XXX-json.log 文件首行为空行

## Cause
- 主机 crontab 定时任务中的 gc 脚本清理容器日志时 echo 空格
- Kubernetes 日志解析模块对空行格式容错不足

## Resolution
- 注释 crontab 中的 gc 清理脚本
- 升级平台到 3.0.4+ 版本
- 在 /etc/docker/daemon.json 配置 log-opts: {"max-size":"100m","max-file":"2"} 并重启 docker

## [workaround]
- 重启应用 Pod

## [Related Information]
- Environment: 3.0.1
- /var/lib/docker/containers
- XXX-json.log
- crontab
- gc脚本
- log-opts
- Component: Docker
- Page ID: 101652127
- Original Title: 容器平台-日志-容器日志不显示
