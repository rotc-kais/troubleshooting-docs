---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 基础设施

docker build过程中拉取外网依赖包失败

## Cause
- 节点docker0网络默认未开启外网请求规则
- docker容器默认无法通过docker0网段进行外网访问

## Resolution
- 在所有相关节点执行防火墙命令：iptables -t nat -A POSTROUTING -s 172.17.0.0/16 ! -o docker0 -j MASQUERADE

## [workaround]

## [Related Information]
- Environment: 平台版本 2.9.x/3.0.x/3.4.x/3.6.x
- docker0
- iptables
- POSTROUTING链
- MASQUERADE规则
- Component: Docker
- Page ID: 124682812
- Original Title: 基础设施-通过平台集群节点进行docker bulid报错
