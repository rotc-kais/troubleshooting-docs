---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 节点拉去镜像失败

计算节点拉取镜像失败 containerd 镜像仓库配置与其他节点无差别但存在认证不匹配

## Cause
- certs.d 目录中镜像仓库配置目录名称未添加 80 端口
- containerd 对带端口的镜像仓库名称、certs.d 目录名、hosts.toml 配置存在严格匹配要求

## Resolution
- mkdir /etc/containerd/certs.d/registry.oa.citicbank.com:80
- 在 hosts.toml 中配置 server = "registry.oa.citicbank.com:80"
- 重启 containerd 服务

## [workaround]

## [Related Information]
- Environment: 3.16.2
- /etc/containerd/certs.d
- hosts.toml
- containerd 配置
- 镜像仓库地址带端口
- Component: Docker
- Page ID: 324174088
- Original Title: 容器平台-原生组件-Kubernetes，Docker等原生组件问题-节点拉去镜像失败-113362
