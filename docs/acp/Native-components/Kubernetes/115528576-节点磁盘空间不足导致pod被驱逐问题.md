---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 节点磁盘空间不足导致pod被驱逐问题

Pod状态显示为Evicted或Failed 节点磁盘或内存资源不足 控制台无显式错误事件

## Cause
- 节点磁盘空间不足，特别是/var/lib/kubelet所在磁盘
- 容器存储目录与kubelet root-dir不在同一磁盘分区
- 默认驱逐策略触发条件：nodefs.available<10% 或 nodefs.inodesFree<5%
- 系统盘被日志或其他数据占满

## Resolution
- 清理磁盘空间：docker system prune -a -f
- 手动检查并删除非必要数据
- 调整容器存储目录与kubelet root-dir到同一磁盘分区
- 执行命令清理Evicted Pod：kubectl get pods -n [namespace] | grep Evicted | awk '{print $1}' | xargs kubectl -n [namespace] delete pod

## [workaround]

## [Related Information]
- Environment: 通用
- /var/lib/kubelet
- Evicted
- nodefs.available
- nodefs.inodesFree
- memory.available
- EVICTION_HARD
- Component: Kubernetes
- Page ID: 115528576
- Original Title: 节点磁盘空间不足导致pod被驱逐问题-Evicted
