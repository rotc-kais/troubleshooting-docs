---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# pod 访问外部网络时通时不通

两次建立tcp socket时使用相同的src port pod访问外部网络时部分情况连接超时失败，回包gateway node缺少ct导致连接中断

## Cause
- CNI 1.7.1版本的pod ECMP模式存在缺陷

## Resolution
- 将gateway node数量调整为1
- 升级CNI到1.8版本修复该问题

## [workaround]

## [Related Information]
- Environment: CNI版本：1.7.1
- ECMP模式
- gateway node
- CNI组件
- Component: Kubernetes
- Page ID: 115525808
- Original Title: pod 访问外部网络时通时不通
