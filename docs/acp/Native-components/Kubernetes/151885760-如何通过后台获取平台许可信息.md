---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 如何通过后台获取平台许可信息

JIRA Jira：

## Cause

## Resolution
- 登录master第一台节点
- 获取token：1. 通过界面个人中心获取；2. 3.8之前使用命令 `kubectl -n cpaas-system describe secret $(kubectl -n cpaas-system get secret | grep default-token | awk '{print $1}') | awk '/token:/ {print $2}'`；3. 后续版本创建admin-user并获取token：应用指定YAML资源后执行 `kubectl -n kube-system describe secret $(kubectl -n kube-system get secret | grep admin-user | awk '{print $1}') | awk '/token:/ {print $2}'`
- 3.0版本使用命令 `curl -k https://127.0.0.1/lic/v1/metadata -H "Authorization: Bearer $TOKEN"` 和 `curl -k http://127.0.0.1/lic/v1/licenses -H "Authorization: Bearer $TOKEN" -X GET`
- 3.8版本使用命令 `curl -k https://127.0.0.1/lic/v2/metadata -H "Authorization: Bearer $TOKEN"` 和 `curl -k http://127.0.0.1/lic/v2/licenses -H "Authorization: Bearer $TOKEN" -X GET`

## [workaround]
- 通过界面个人中心获取token

## [Related Information]
- Environment: 3.0,3.8
- /lic/v1/metadata
- /lic/v1/licenses
- /lic/v2/metadata
- /lic/v2/licenses
- admin-user
- cpaas-system
- kube-system
- ServiceAccount
- ClusterRoleBinding
- Component: Kubernetes
- Page ID: 151885760
- Original Title: 如何通过后台获取平台许可信息
