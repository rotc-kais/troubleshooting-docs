---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 3.8 3.10 3.12修改平台自身es/kafka密码

无法通过Kibana登录ES/Kafka 平台日志功能异常 组件滚动重建失败

## Cause
- 密码未正确base64编码
- moduleinfo配置未正确更新
- zk/kafka数据残留导致冲突

## Resolution
- kubectl -n cpaas-system get secret acp-config-secret -oyaml
- echo -n <PASSOWRD>|base64
- kubectl edit minfo <logcenter> 修改elasticsearch/kafka.password字段
- kubectl -n cpaas-system scale deploy 停止相关组件
- rm -rf /cpaas/data/{kafka*,zookeeper}
- kubectl -n cpaas-system scale deploy 重启组件

## [workaround]

## [Related Information]
- Environment: 3.8.x 3.10.x 3.12.x
- cpaas-system
- /clusters/global/kibana
- /cpaas/data/{kafka*,zookeeper}
- acp-config-secret
- minfo.spec.config.components.elasticsearch.password
- minfo.spec.config.components.kafka.password
- devops-controller
- lanaya
- courier
- cpaas-kibana
- cpaas-elasticsearch
- cpaas-kafka
- cpaas-zookeeper
- Component: kafka
- Page ID: 146364926
- Original Title: 3.8 3.10 3.12修改平台自身es/kafka密码
