---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# kafka外部访问及测试demo

## 环境信息 适用版本：3.6.x

## Cause

## Resolution
- 通过NodePort方式访问：使用my-cluster-kafka-external-bootstrap的NodePort服务，确保客户端能访问advertised.listeners返回的宿主机IP和NodePort端口(如10.0.129.171:30913)
- 通过ALB方式访问：配置ALB的TCP端口转发到my-cluster-kafka-external-bootstrap的9094端口，确保返回的元数据与NodePort方式一致
- 放开外部网络到kafka宿主机相关端口(如30913/30226/30074)的网络权限
- 使用Python客户端测试时需正确配置bootstrap_servers为ALB地址或NodePort地址

## [workaround]

## [Related Information]
- Environment: 3.6.x
- 9094
- 30913
- 30226
- 30074
- my-cluster-kafka-external-bootstrap
- advertised.listeners
- bootstrap_servers
- Component: kafka
- Page ID: 120095986
- Original Title: kafka外部访问及测试demo
