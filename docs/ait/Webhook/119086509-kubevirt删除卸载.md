---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# kubevirt删除卸载

JIRA Jira：

## Cause

## Resolution
- kubectl delete vm -n <namespace> --all
- kubectl delete apiservices $(kubectl get apiservices | grep virt | awk '{print $1}')
- kubectl delete mutatingwebhookconfigurations $(kubectl get mutatingwebhookconfigurations | grep "virt" | awk '{print $1}')
- kubectl delete mutatingwebhookconfigurations $(kubectl get mutatingwebhookconfigurations | grep "cdi" | awk '{print $1}')
- kubectl delete validatingwebhookconfigurations $(kubectl get validatingwebhookconfigurations | grep "virt" | awk '{print $1}')
- kubectl delete validatingwebhookconfigurations $(kubectl get validatingwebhookconfigurations | grep "cdi" | awk '{print $1}')
- kubectl delete clusterrole $(kubectl get clusterrole | grep "virt" | awk '{print $1}')
- kubectl delete clusterrolebinding $(kubectl get clusterrolebinding | grep "virt" | awk '{print $1}')
- kubectl delete kubevirt -n kubevirt $(kubectl get kubevirt -n kubevirt | grep "virt" | awk '{print $1}')
- kubectl delete cdi $(kubectl get cdi | grep "cdi" | awk '{print $1}')
- kubectl delete hco -n kubevirt $(kubectl get hco -n kubevirt | grep "hyperconverged" | awk '{print $1}')
- kubectl delete crd $(kubectl get crd -n kubevirt | grep "kubevirt" | awk '{print $1}')
- kubectl delete crd virtualmachineimagetemplates.virtualization.alauda.io
- kubectl delete deployment -n kubevirt --all
- kubectl delete ds -n kubevirt --all
- kubectl delete svc -n kubevirt --all
- kubectl delete secret -n kubevirt --all
- kubectl delete cm -n kubevirt --all
- kubectl delete sa -n kubevirt --all

## [workaround]

## [Related Information]
- Environment: 3.6.x 3.8.x
- vm
- apiservices
- mutatingwebhookconfigurations
- validatingwebhookconfigurations
- clusterrole
- kubevirt
- cdi
- hco
- crd
- virtualmachineimagetemplates.virtualization.alauda.io
- deployment
- ds
- svc
- secret
- cm
- sa
- Component: Webhook
- Page ID: 119086509
- Original Title: kubevirt删除卸载
