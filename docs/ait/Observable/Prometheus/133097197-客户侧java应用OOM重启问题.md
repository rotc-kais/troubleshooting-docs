---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 客户侧java应用OOM重启问题

内存存在稳定持续增长行为 容器分配的内存被耗尽导致应用被Kill 平台显示内存接近100%，但实际堆内存有大量剩余空间

## Cause
- 应用存在内存泄漏
- 低版本JDK（如8u181）未正确识别容器内存限制
- 非堆内存（如Metaspace、Direct Memory）使用量过高
- 容器内存分配过大（如8G）导致资源利用率低下

## Resolution
- 必须设置-Xmx和-Xms参数（建议相同值）
- 添加-XX:+HeapDumpOnOutOfMemoryError参数
- 升级到JDK11/JDK17或至少JDK8u191+版本
- 调整容器内存分配至2G/3G并配合水平扩缩容
- 添加Prometheus JVM metrics监控

## [workaround]
- 临时调大容器内存分配（不推荐长期使用）

## [Related Information]
- Environment: Java应用运行在容器平台，使用JDK8u181或更高版本
- -Xmx/-Xms
- HeapDumpOnOutOfMemoryError
- JDK8u191+
- Prometheus JVM metrics
- Metaspace
- Direct Memory
- Component: Prometheus
- Page ID: 133097197
- Original Title: 客户侧java应用OOM重启问题-内存存在稳定持续增长行为
