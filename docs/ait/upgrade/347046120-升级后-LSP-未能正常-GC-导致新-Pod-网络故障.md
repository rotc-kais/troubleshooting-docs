---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 升级后 LSP 未能正常 GC 导致新 Pod 网络故障

新创建的 Pod 出现网络故障 存在相同 IP 的 OVN LSP 残留 kube-ovn-controller 日志显示持续 GC 相同 LSP

## Cause
- libovsdb 的 GET 方法未根据 LSP NAME 返回正确结果
- GC 机制误判 LSP 不存在导致删除失败

## Resolution
- 修改 GC 代码直接通过 LSP UUID 进行删除操作
- 代码变更参考：https://github.com/kubeovn/kube-ovn/pull/5735

## [workaround]

## [Related Information]
- kube-ovn-controller
- OVN LSP
- ovn nb 6641 端口
- libovsdb
- Component: 升级
- Page ID: 347046120
- Original Title: 升级后 LSP 未能正常 GC 导致新 Pod 网络故障
