---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# harbor在UI界面修改密码后，新旧密码无法登录

通过UI修改密码后新旧密码均无法登录 绑定凭据失效

## Cause
- harbor数据库出现死锁

## Resolution
- 在global集群停掉sentry（修改副本数为0）
- 修改devops-api、devops-apiserver、devopvs-controller副本数为0
- 检查harbor-core日志直到不再出现401错误
- 更新operator中harbor的默认密码为新密码
- 更新所有harbor相关secret的base64凭据
- 重启sentry和devops组件并等待5-10分钟

## [workaround]

## [Related Information]
- Environment: Harbor 3.6
- sentry
- devops-api
- devops-apiserver
- devops-controller
- harbor-core
- operator
- secret
- Component: harbor
- Page ID: 115515979
- Original Title: harbor在UI界面修改密码后，新旧密码无法登录
