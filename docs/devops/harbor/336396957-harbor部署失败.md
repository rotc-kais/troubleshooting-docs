---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# harbor部署失败

harbor-demo-harbor-jobservice-6fd5b7fcf7-zlm59 pod creation forbidden due to hostPath volumes violation

## Cause
- PodSecurity policy violation: hostPath volume 'job-logs' not permitted in namespace

## Resolution
- Add container security policy allowing hostPath volumes to target namespace
- Label namespace: kubectl label ns <namespace> pod-security.kubernetes.io/enforce=baseline
- Trigger pod update: kubectl delete pod <problem-pod-name>

## [workaround]

## [Related Information]
- Environment: Kubernetes
- PodSecurityPolicy
- pod-security.kubernetes.io/enforce
- job-logs
- hostPath
- Component: harbor
- Page ID: 336396957
- Original Title: Devops-harbor部署失败-115925
