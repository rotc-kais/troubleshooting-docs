---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# harbor 打开 SSO 问题

通过OIDC登录跳转到内网平台访问地址，导致访问失败

## Cause
- Harbor默认跳转地址配置为内网IP，客户端无访问权限

## Resolution
- 设置平台访问地址为域名模式并配置合法域名证书
- 在global集群编辑harbor所在cluster资源的annotation设置：cpaas.io/platform-url: <公网访问地址，例如https://publicIP:443>

## [workaround]

## [Related Information]
- Environment: 3.10.2
- cpaas.io/platform-url
- Component: harbor
- Page ID: 140813685
- Original Title: harbor 打开 SSO 问题 - 通过 OIDC 登录跳转到内网平台访问地址，导致平台访问失败
