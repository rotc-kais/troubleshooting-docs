---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 3.6

harbor容器大部分处于terminating状态 harbor的rs条数不断增加且旧rs无法回收

## Cause

## Resolution
- kubectl scale deploy -n operators -replicas=0 devops-tool-operator-controller-manager
- kubectl get rs -n operators | grep dev-harbor | wc -l
- kubectl get rs -n operators | grep dev-harbor | awk '[print "kubectl delete rs -n operators",$1' | bash
- kubectl delete job -n operators dev-harbor-rx8rj-harbor-core-migrate
- kubectl scale deplov -n operators --replicas=2 devops-tool- operator-controller-manager
- kubectl get harbor -n operators dev-harbor- rx8rj -oyaml
- kubectl get pod -n operators | grep harbor
- kubectl get pod -n operators dev-harbor-rx8rj-harbor-jobservice-7b98f6cbf-g9nlv -oyaml

## [workaround]

## [Related Information]
- Environment: 3.6.x
- devops-tool-operator-controller-manager
- dev-harbor
- harbor-core-migrate
- harbor-jobservice
- operators命名空间
- rs资源对象
- job资源对象
- Component: harbor
- Page ID: 119081263
- Original Title: 3.6-更改harbor资源后，harbor启动失败。
