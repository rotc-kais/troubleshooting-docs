---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# Harbor镜像仓库在界面进行垃圾回收操作无法删除镜像

harbor进行垃圾清理时报错“ failed to clean registry cache Err unknown command flushdb”

## Cause
- harbor的redis配置文件中禁用了flushdb命令

## Resolution
- 修改/redis/conf/redis.conf文件，注释以下两行并重启harbor-redis服务：
# rename-command FLUSHALL ""
# rename-command FLUSHDB ""

## [workaround]

## [Related Information]
- Environment: acp2.6
- harbor-redis
- /redis/conf/redis.conf
- FLUSHDB
- FLUSHALL
- Component: harbor
- Page ID: 115538465
- Original Title: Harbor镜像仓库在界面进行垃圾回收操作无法删除镜像
