---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 3.8.1

java构建节点的镜像中不存在gradle命令

## Cause
- TKE 3.8版本java构建节点镜像未预装gradle工具

## Resolution
- 使用自定义Dockerfile安装gradle：FROM 100.115.101.150:60080/devops/builder-java:openjdk8-v3.6.0
- 添加环境变量配置：ENV PATH $PATH:/opt/gradle/gradle-6.8.3/bin
- 手动拷贝gradle私库配置：cp ./init.gradle /root/.gradle/
- 执行构建命令：gradle clean && gradle build

## [workaround]

## [Related Information]
- Environment: TKE 3.8.1
- /opt/gradle/gradle-6.8.3
- PATH环境变量
- init.gradle
- /root/.gradle/
- Dockerfile
- Component: jenkins
- Page ID: 127427685
- Original Title: 3.8.1-gradle构建方法
