---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# Gitlab相关

用户无法访问GitLab实例 GitLab容器频繁重启

## Cause
- 内存不足导致OOM Killer终止GitLab进程

## Resolution
- 调整容器内存限制：`docker run --memory 4g --memory-swap 4g ...`
- 配置交换空间：`dd if=/dev/zero of=/swapfile bs=1G count=4 && mkswap /swapfile && swapon /swapfile`
- 优化GitLab配置：`/etc/gitlab/gitlab.rb`中设置`unicorn['worker_processes'] = 2`

## [workaround]
- 立即重启容器：`docker restart gitlab-container`
- 临时增加内存限制：`docker update --memory 6g --memory-swap 6g gitlab-container`

## [Related Information]
- Environment: Docker容器化部署的GitLab实例
- gitlab容器
- docker守护进程
- OOM Killer
- /etc/gitlab/gitlab.rb
- unicorn['worker_processes']
- Component: gitlab
- Page ID: 221885458
- Original Title: Gitlab相关
