---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 流水线执行参数配置问题

无法修改执行参数默认值 无法新增或修改执行参数字段 构建时无法选择新添加的集群

## Cause
- 3.18版本构建参数不支持下拉列表选择集群
- 全局参数通过global集群的custom-delievy ConfigMap固定写死5个参数
- 环境与集群关系依赖global集群的cluster.registry.k8s.io资源label配置

## Resolution
- 升级到4.0版本支持下拉列表选择集群
- 在global集群的custom-delievy ConfigMap中添加新参数
- 通过cluster.registry.k8s.io资源的label配置环境与集群关系

## [workaround]

## [Related Information]
**Screenshots**
![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/1754905241_99781_266b61_%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF%25E6%2589%25A7%25E8%25A1%258C%25E5%258F%2582%25E6%2595%25B0_1.png)
![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/%25E5%259B%25BE%25E7%2589%2587_1.png)
这边查了一下，全局配置参数在tekton-template下的模板配置文件内，界面暴露出来的在 yaml params的最前面，单独把这几个提出来暴露的,修改的话可以再里面添加![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/mceclip0_1755065777861_u41go.png)
![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/%25E5%259B%25BE%25E7%2589%2587_1.png)
2.tekton-template目录下面，具体指的是这个，里面有参数配置，界面暴露出来的在 yaml 的最前面，单独把这几个提出来暴露的。![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/mceclip0_1755156878007_fkc3c.png)
![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/mceclip1_1755681108980_rhbuk.png)
![](assets/devops-liu-shui-xian-zhi-xing-can-shu-pei-zhi-wen-ti-114919/mceclip2_1755682577091_1p8ic.png)
- Environment: 3.18.1
- tekton-template
- auth.yaml
- cluster.registry.k8s.io
- custom-delievy ConfigMap
- Component: 流水线
- Page ID: 336397051
- Original Title: Devops-流水线执行参数配置问题-114919
