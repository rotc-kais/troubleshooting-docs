---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 【flannel】跨节点网络故障

节点无法 ping 通其它节点的 flannel.1 IP vxlan 封装后的网络包到达对端节点物理网卡但无法到达 flannel.1 Flush iptables 后问题依旧

## Cause
- systemd 242+ 自动分配 flannel.* 接口的 MAC 地址导致冲突

## Resolution
- 创建 /etc/systemd/network/50-flannel.link 文件并重启系统
- [Match]
OriginalName=flannel*
[Link]
MACAddressPolicy=none

## [workaround]

## [Related Information]
- Environment: flannel 14.0
- flannel.1
- vxlan
- iptables
- systemd
- /etc/systemd/network/50-flannel.link
- Component: (待归类)
- Page ID: 130555465
- Original Title: 【flannel】跨节点网络故障-节点无法 ping 通其它节点的 Pod
