---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 故障排除

应用无法通过Ingress访问 Operator报错无法连接API服务器 原生API（如kubectl get nodes）返回超时

## Cause
- 网络插件配置错误导致Pod间通信问题
- Operator的RBAC权限不足
- 控制平面组件（如kube-apiserver）崩溃或资源不足

## Resolution
- kubectl -n kube-system get pods | grep calico
- kubectl get clusterrolebinding | grep <operator-name>
- journalctl -u kube-apiserver -n 100

## [workaround]
- kubectl expose deployment/my-app --type=NodePort --port=80
- kubectl proxy --port=8080 & curl localhost:8080/api/v1/namespaces
- 修改operator部署添加--kube-api-qps=30参数

## [Related Information]
- Environment: Kubernetes clusters (particularly those utilizing network plugins, operators, and control plane components)
- Calico/Flannel
- ClusterRole
- kube-apiserver
- Ingress Controller
- Node status
- Component: (待归类)
- Page ID: 211780375
- Original Title: 故障排除-应用、operator与原生API
