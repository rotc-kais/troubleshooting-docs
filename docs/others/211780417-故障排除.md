---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 故障排除

Pod 无法挂载第三方存储卷 存储卷性能显著下降 存储访问权限异常

## Cause
- 网络连接异常导致存储访问超时
- 存储服务端配置错误（如 export policy 限制）
- CSI 驱动版本与 Kubernetes 版本不兼容
- 存储后端资源不足（配额/容量限制）
- 认证信息失效（access_key/secret_key 过期）

## Resolution
- 检查节点间连通性：ping <存储服务器IP>
- 验证存储服务 export 规则：showmount -e <存储服务器IP>
- 升级 CSI 驱动至兼容版本：kubectl apply -f csi-driver-v1.5.0.yaml
- 清理存储空间：rados df | grep near_full
- 更新 Secret 中的认证信息：kubectl edit secret storage-credentials

## [workaround]
- 临时使用 hostPath 本地存储替代

## [Related Information]
- Environment: Kubernetes 1.20+ 集群使用第三方 CSI 存储插件（如 Ceph RBD/CSI）
- CSI 驱动
- /var/log/kubelet.log
- StorageClass 配置参数
- PersistentVolume 的 mountOptions 字段
- Component: (待归类)
- Page ID: 211780417
- Original Title: 故障排除-第三方存储
