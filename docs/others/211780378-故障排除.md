---
kind:
  - Troubleshooting
products:
  - Alauda Container Platform
  - Alauda DevOps
  - Alauda AI
  - Alauda Application Services
  - Alauda Service Mesh
  - Alauda Developer Portal
ProductsVersion:
  - 4.1.0,4.2.x
---
<!-- A type of document that involves encountering a fault, diagnosing it, performing root cause analysis, and providing solutions. -->

# 故障排除

系统负载持续高于5 /var/log 分区使用率超过90% 服务启动时报错 'Failed to bind port 22'

## Cause
- 存在僵尸进程占用CPU资源
- 未配置日志轮转策略导致日志堆积
- sshd_config中配置了冲突的端口号
- iptables规则丢弃了SSH流量

## Resolution
- 执行 `ps -eo stat,pid | grep Z | awk '{print $2}' | xargs kill -9`
- 添加logrotate配置：`/var/log/*.log { daily rotate 7 missingok }`
- 检查/etc/ssh/sshd_config中的'Port'指令
- 运行 `iptables -L -n -v | grep :22` 验证规则

## [workaround]
- 临时重启crond服务：`systemctl restart crond`
- 手动清理旧日志：`rm /var/log/app/*.log.2*`

## [Related Information]
- Environment: CentOS 7.9, Ubuntu 20.04 LTS
- /var/log/cron
- 22/tcp
- /etc/ssh/sshd_config
- systemd-journald
- Component: (待归类)
- Page ID: 211780378
- Original Title: 故障排除-操作系统（OS）
